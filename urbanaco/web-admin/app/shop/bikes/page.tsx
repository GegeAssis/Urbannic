'use client'; import {useEffect,useState} from 'react'; import api from '@/lib/api'; export default function Page(){ const [b,setB]=useState<any[]>([]); const [m,setM]=useState('E-Bike 750Wh'); useEffect(()=>{api.get('/bikes').then(r=>setB(r.data))},[]); return(<div className='card'><h1>Bikes</h1><div className='my-2'><input value={m} onChange={e=>setM(e.target.value)} className='btn'/> <button className='btn' onClick={async()=>{const r=await api.post('/bikes',{model:m}); setB([r.data,...b])}}>Adicionar</button></div><ul>{b.map(x=><li key={x.id}>{x.id} â€” {x.model} <span>({x.status})</span></li>)}</ul></div>)}
